<?php
    $version = "1.3.3b";
    //$maxRows = 30;
    //$tasklevel = 0;
    mysql_select_db($database_tankdb,$tankdb);

    if (!function_exists("GetSQLValueString")) {
    function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
    {
      if (PHP_VERSION < 6) {
        $theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
      }

      $theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

      switch ($theType) {
        case "text":
          $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
          break;    
        case "long":
        case "int":
          $theValue = ($theValue != "") ? intval($theValue) : "NULL";
          break;
        case "double":
          $theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
          break;
        case "date":
          $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
          break;
        case "defined":
          $theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
          break;
      }
      return $theValue;
    }
}

//获取全部热门推荐
function get_all_hot_recom(){

  global $tankdb;

  $selAllHotRecom="SELECT * FROM gt_problem,gt_answer,gt_teacher,gt_student,gt_group WHERE answer_pid=problem_id AND answer_user=tea_id AND problem_from=stu_id AND problem_group=group_id AND problem_private=1 AND answer_role=1 ORDER BY problem_answer DESC,answer_good DESC";
  $AllRecomRS = mysql_query($selAllHotRecom, $tankdb) or die(mysql_error());

  return $AllRecomRS;
}

?>